{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from\"react-router-dom\";import diamondBlock from'./diamondBlock.png';import diamondSword from'./diamondSword.png';import diamondPickaxe from'./diamondPickaxe.png';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Shop=function Shop(_ref){var cartArr=_ref.cartArr,setCartArr=_ref.setCartArr,cartQuantity=_ref.cartQuantity,setCartQuantity=_ref.setCartQuantity,totalPrice=_ref.totalPrice,setTotalPrice=_ref.setTotalPrice;var cartItems=cartArr;var indexSelectedItem;function addToCart(e){// add 1 to the quantity of the item selected\nindexSelectedItem=cartArr.findIndex(function(item){return item.id===e.target.id;});cartItems[indexSelectedItem].quantity=cartItems[indexSelectedItem].quantity+1;setCartArr(cartItems);//calculate th new quantity in the shoping cart \nvar totalQuantity=cartItems.reduce(function(prev,cur){return prev+cur.quantity;},0);setCartQuantity(totalQuantity);var totalPriceValue=cartItems.reduce(function(prev,cur){return prev+cur.quantity*cur.price;},0);setTotalPrice(totalPriceValue);}function renderList(){return cartArr.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"liItemWrap\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[item.name,\" \"]}),/*#__PURE__*/_jsx(\"img\",{className:\"itemImg\",src:item.img,alt:\"imgItem\"}),/*#__PURE__*/_jsxs(\"p\",{children:[item.price,\" $ \"]}),/*#__PURE__*/_jsx(\"button\",{id:item.id,className:\"addToCart\",onClick:function onClick(e){return addToCart(e);},children:\"Add to cart\"})]},item.id);});}/*\n  useEffect(() => {\n    console.log('useEffect cartArr', cartArr)\n    console.log('useEffect cartQuantity', cartQuantity)\n  },[cartArr, cartQuantity])\n  */return/*#__PURE__*/_jsx(\"div\",{className:\"shopContainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"itemsSection\",children:renderList()})});};export default Shop;","map":{"version":3,"sources":["/home/atsal/Desktop/router/src/Shop.js"],"names":["React","useState","useEffect","Link","diamondBlock","diamondSword","diamondPickaxe","Shop","cartArr","setCartArr","cartQuantity","setCartQuantity","totalPrice","setTotalPrice","cartItems","indexSelectedItem","addToCart","e","findIndex","item","id","target","quantity","totalQuantity","reduce","prev","cur","totalPriceValue","price","renderList","map","name","img"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,MAAOC,CAAAA,YAAP,KAAyB,oBAAzB,CACA,MAAOC,CAAAA,YAAP,KAAyB,oBAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,sBAA3B,C,wFAIA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAqF,IAAnFC,CAAAA,OAAmF,MAAnFA,OAAmF,CAA1EC,UAA0E,MAA1EA,UAA0E,CAA9DC,YAA8D,MAA9DA,YAA8D,CAAhDC,eAAgD,MAAhDA,eAAgD,CAA/BC,UAA+B,MAA/BA,UAA+B,CAAnBC,aAAmB,MAAnBA,aAAmB,CAGjG,GAAIC,CAAAA,SAAS,CAAGN,OAAhB,CACA,GAAIO,CAAAA,iBAAJ,CAEA,QAASC,CAAAA,SAAT,CAAmBC,CAAnB,CAAsB,CAGnB;AACAF,iBAAiB,CAAGP,OAAO,CAACU,SAAR,CAAkB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,EAAL,GAAYH,CAAC,CAACI,MAAF,CAASD,EAAzB,EAAtB,CAApB,CACAN,SAAS,CAACC,iBAAD,CAAT,CAA6BO,QAA7B,CAAwCR,SAAS,CAACC,iBAAD,CAAT,CAA6BO,QAA7B,CAAwC,CAAhF,CACAb,UAAU,CAACK,SAAD,CAAV,CAEA;AACA,GAAIS,CAAAA,aAAa,CAAGT,SAAS,CAACU,MAAV,CAAiB,SAASC,IAAT,CAAeC,GAAf,CAAoB,CACvD,MAAOD,CAAAA,IAAI,CAAGC,GAAG,CAACJ,QAAlB,CACD,CAFmB,CAElB,CAFkB,CAApB,CAGAX,eAAe,CAACY,aAAD,CAAf,CAEA,GAAII,CAAAA,eAAe,CAAGb,SAAS,CAACU,MAAV,CAAiB,SAASC,IAAT,CAAeC,GAAf,CAAoB,CACzD,MAAOD,CAAAA,IAAI,CAAIC,GAAG,CAACJ,QAAJ,CAAeI,GAAG,CAACE,KAAlC,CACD,CAFqB,CAEpB,CAFoB,CAAtB,CAGAf,aAAa,CAACc,eAAD,CAAb,CAED,CAED,QAASE,CAAAA,UAAT,EAAsB,CACpB,MAAQrB,CAAAA,OAAO,CAACsB,GAAR,CAAY,SAAAX,IAAI,CAAI,CAC1B,mBAAQ,YAAI,SAAS,CAAC,YAAd,wBACR,qBAAIA,IAAI,CAACY,IAAT,OADQ,cAER,YAAK,SAAS,CAAC,SAAf,CAAyB,GAAG,CAAEZ,IAAI,CAACa,GAAnC,CAAwC,GAAG,CAAC,SAA5C,EAFQ,cAGR,qBAAIb,IAAI,CAACS,KAAT,SAHQ,cAIR,eAAQ,EAAE,CAAET,IAAI,CAACC,EAAjB,CAAqB,SAAS,CAAC,WAA/B,CAA2C,OAAO,CAAE,iBAACH,CAAD,QAAOD,CAAAA,SAAS,CAACC,CAAD,CAAhB,EAApD,yBAJQ,GAAgCE,IAAI,CAACC,EAArC,CAAR,CAKD,CANO,CAAR,CAOD,CAED;AACF;AACA;AACA;AACA;AACA,IAEI,mBACI,YAAK,SAAS,CAAC,eAAf,uBAEE,YAAK,SAAS,CAAC,cAAf,UACES,UAAU,EADZ,EAFF,EADJ,CASC,CArDL,CAwDI,cAAetB,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\n\nimport diamondBlock from './diamondBlock.png';\nimport diamondSword from './diamondSword.png';\nimport diamondPickaxe from './diamondPickaxe.png';\n\n\n\nconst Shop = ({cartArr, setCartArr, cartQuantity, setCartQuantity, totalPrice, setTotalPrice}) => {\n\n\n let cartItems = cartArr;\n let indexSelectedItem;\n\n function addToCart(e) {  \n\n\n    // add 1 to the quantity of the item selected\n    indexSelectedItem = cartArr.findIndex(item => item.id === e.target.id);\n    cartItems[indexSelectedItem].quantity = cartItems[indexSelectedItem].quantity + 1;\n    setCartArr(cartItems)\n\n    //calculate th new quantity in the shoping cart \n    var totalQuantity = cartItems.reduce(function(prev, cur) {\n      return prev + cur.quantity\n    },0)\n    setCartQuantity(totalQuantity)\n\n    var totalPriceValue = cartItems.reduce(function(prev, cur) {\n      return prev + (cur.quantity * cur.price)\n    },0)\n    setTotalPrice(totalPriceValue)\n       \n  }\n\n  function renderList() {\n    return (cartArr.map(item => {\n      return (<li className=\"liItemWrap\" key={item.id}>\n      <p>{item.name} </p>\n      <img className=\"itemImg\" src={item.img} alt=\"imgItem\"/> \n      <p>{item.price} $ </p>  \n      <button id={item.id} className=\"addToCart\" onClick={(e) => addToCart(e)}>Add to cart</button></li>)\n    }))\n  }\n\n  /*\n  useEffect(() => {\n    console.log('useEffect cartArr', cartArr)\n    console.log('useEffect cartQuantity', cartQuantity)\n  },[cartArr, cartQuantity])\n  */\n \n    return (\n        <div className='shopContainer'>\n       \n          <div className=\"itemsSection\">\n           {renderList()}\n           </div>\n         \n        </div>\n      );\n    };\n    \n    \n    export default Shop;"]},"metadata":{},"sourceType":"module"}