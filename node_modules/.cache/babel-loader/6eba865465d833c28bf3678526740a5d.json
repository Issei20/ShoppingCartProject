{"ast":null,"code":"var _jsxFileName = \"/home/atsal/Desktop/router/src/Shop.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\nimport diamondBlock from './diamondBlock.png';\nimport diamondSword from './diamondSword.png';\nimport diamondPickaxe from './diamondPickaxe.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Shop = _ref => {\n  let {\n    cartArr,\n    setCartArr,\n    cartQuantity,\n    setCartQuantity,\n    totalPrice,\n    setTotalPrice\n  } = _ref;\n  let cartItems = cartArr;\n  let indexSelectedItem;\n\n  function addToCart(e) {\n    // add 1 to the quantity of the item selected\n    indexSelectedItem = cartArr.findIndex(item => item.id === e.target.id);\n    cartItems[indexSelectedItem].quantity = cartItems[indexSelectedItem].quantity + 1;\n    setCartArr(cartItems); //calculate th new quantity in the shoping cart \n\n    var totalQuantity = cartItems.reduce(function (prev, cur) {\n      return prev + cur.quantity;\n    }, 0);\n    setCartQuantity(totalQuantity);\n    var totalPriceValue = cartItems.reduce(function (prev, cur) {\n      return prev + cur.quantity * cur.price;\n    }, 0);\n    setTotalPrice(totalPriceValue);\n  }\n\n  function handle(e) {\n    let indexSelectedItem = cartArr.findIndex(item => item.id === e.target.id);\n    let itemsArr = cartArr;\n\n    if (e.target.value < 1) {\n      itemsArr[indexSelectedItem].quantity = 1;\n      setCartArr(itemsArr);\n      let totalPriceValue = itemsArr.reduce(function (prev, cur) {\n        return prev + cur.quantity * cur.price;\n      }, 0);\n      setTotalPrice(totalPriceValue);\n      let totalQuantity = itemsArr.reduce(function (prev, cur) {\n        return prev + cur.quantity;\n      }, 0);\n      setCartQuantity(totalQuantity);\n    } else if (e.target.value >= 0) {\n      itemsArr[indexSelectedItem].quantity = parseInt(e.target.value);\n      setCartArr(itemsArr);\n      setChangeCart(true);\n      let totalPriceValueIf = itemsArr.reduce(function (prev, cur) {\n        return prev + cur.quantity * cur.price;\n      }, 0);\n      setTotalPrice(totalPriceValueIf);\n      let totalQuantityIf = itemsArr.reduce(function (prev, cur) {\n        return prev + cur.quantity;\n      }, 0);\n      setCartQuantity(totalQuantityIf);\n    }\n  }\n\n  function renderList() {\n    return cartArr.map(item => {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"liItemWrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [item.name, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"itemImg\",\n          src: item.img,\n          alt: \"imgItem\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputQuantity\",\n          id: item.id,\n          value: item.quantity || 0,\n          onChange: e => handle(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [item.price, \" $ \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: item.id,\n          className: \"addToCart\",\n          onClick: e => addToCart(e),\n          children: \"Add to cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 7\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }, this);\n    });\n  }\n  /*\n  useEffect(() => {\n    console.log('useEffect cartArr', cartArr)\n    console.log('useEffect cartQuantity', cartQuantity)\n  },[cartArr, cartQuantity])\n  */\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"shopContainer\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"itemsSection\",\n      children: renderList()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }, this);\n};\n\n_c = Shop;\nexport default Shop;\n\nvar _c;\n\n$RefreshReg$(_c, \"Shop\");","map":{"version":3,"sources":["/home/atsal/Desktop/router/src/Shop.js"],"names":["React","useState","useEffect","Link","diamondBlock","diamondSword","diamondPickaxe","Shop","cartArr","setCartArr","cartQuantity","setCartQuantity","totalPrice","setTotalPrice","cartItems","indexSelectedItem","addToCart","e","findIndex","item","id","target","quantity","totalQuantity","reduce","prev","cur","totalPriceValue","price","handle","itemsArr","value","parseInt","setChangeCart","totalPriceValueIf","totalQuantityIf","renderList","map","name","img"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\n\nimport diamondBlock from './diamondBlock.png';\nimport diamondSword from './diamondSword.png';\nimport diamondPickaxe from './diamondPickaxe.png';\n\n\n\nconst Shop = ({cartArr, setCartArr, cartQuantity, setCartQuantity, totalPrice, setTotalPrice}) => {\n\n\n let cartItems = cartArr;\n let indexSelectedItem;\n\n function addToCart(e) {  \n\n\n    // add 1 to the quantity of the item selected\n    indexSelectedItem = cartArr.findIndex(item => item.id === e.target.id);\n    cartItems[indexSelectedItem].quantity = cartItems[indexSelectedItem].quantity + 1;\n    setCartArr(cartItems)\n\n    //calculate th new quantity in the shoping cart \n    var totalQuantity = cartItems.reduce(function(prev, cur) {\n      return prev + cur.quantity\n    },0)\n    setCartQuantity(totalQuantity)\n\n    var totalPriceValue = cartItems.reduce(function(prev, cur) {\n      return prev + (cur.quantity * cur.price)\n    },0)\n    setTotalPrice(totalPriceValue)\n       \n  }\n\n\n\n\n  function handle(e) {\n    let indexSelectedItem = cartArr.findIndex(item => item.id === e.target.id);\n    let itemsArr = cartArr;\n    if(e.target.value < 1 ) {\n        itemsArr[indexSelectedItem].quantity = 1\n         setCartArr(itemsArr)\n          let totalPriceValue = itemsArr.reduce(function(prev, cur) {\n            return prev + (cur.quantity * cur.price)\n          },0)\n          setTotalPrice(totalPriceValue)\n          let totalQuantity = itemsArr.reduce(function(prev, cur) {\n            return prev + cur.quantity\n          },0)\n          setCartQuantity(totalQuantity)\n     } else if (e.target.value >= 0) {\n          itemsArr[indexSelectedItem].quantity = parseInt(e.target.value);\n          setCartArr(itemsArr)\n          setChangeCart(true)\n          let totalPriceValueIf = itemsArr.reduce(function(prev, cur) {\n          return prev + (cur.quantity * cur.price)\n      },0)\n          setTotalPrice(totalPriceValueIf)\n          let totalQuantityIf = itemsArr.reduce(function(prev, cur) {\n          return prev + cur.quantity\n      },0)\n          setCartQuantity(totalQuantityIf)\n    }\n\n   }\n\n\n\n  function renderList() {\n    return (cartArr.map(item => {\n      return (<li className=\"liItemWrap\" key={item.id}>\n      <p>{item.name} </p>\n      <img className=\"itemImg\" src={item.img} alt=\"imgItem\"/> \n      <input className=\"inputQuantity\" id={item.id} value={item.quantity || 0} onChange={(e) => handle(e)}/>\n      <p>{item.price} $ </p>  \n      <button id={item.id} className=\"addToCart\" onClick={(e) => addToCart(e)}>Add to cart</button></li>)\n    }))\n  }\n\n  /*\n  useEffect(() => {\n    console.log('useEffect cartArr', cartArr)\n    console.log('useEffect cartQuantity', cartQuantity)\n  },[cartArr, cartQuantity])\n  */\n \n    return (\n        <div className='shopContainer'>\n       \n          <div className=\"itemsSection\">\n           {renderList()}\n           </div>\n         \n        </div>\n      );\n    };\n    \n    \n    export default Shop;"]},"metadata":{},"sourceType":"module"}